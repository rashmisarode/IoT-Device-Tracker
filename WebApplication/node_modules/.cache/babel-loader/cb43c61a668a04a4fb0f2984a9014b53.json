{"ast":null,"code":"var _jsxFileName = \"/home/rashmisarode/git/cmpe297-hw1/src/components/getRealTimeUpdate.jsx\";\nimport React, { PureComponent } from 'react';\nimport { dataService } from '../services/dataService';\n\nclass GetRealTimeUpdate extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      realTimeData: {}\n    };\n    this.getRealUpdate = this.getRealUpdate.bind(this);\n  }\n\n  componentDidMount() {\n    this.getRealUpdate(this); //setInterval(this.getRealUpdate, 5000);\n  }\n\n  getRealUpdate() {\n    let fromDate = new Date().toLocaleString();\n    let toDate = new Date().toLocaleString();\n    console.log(Date.parse(fromDate));\n    dataService.getdbData(Date.parse(fromDate) - 5000, Date.parse(toDate)).then(res => {\n      console.log(res[0]);\n      let date = new Date(res[0].created).toLocaleString();\n      let result = {\n        \"cpuTemp\": res[0].cpuTemp,\n        \"date\": date\n      };\n      this.setState({\n        realTimeData: result\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const {\n      realTimeData\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: 40\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 20,\n        fontWeight: \"bold\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 18\n      }\n    }, \"Real Time Update from IoT\"), realTimeData && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }, \"Date : \", this.state.realTimeData.date), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    }, \"CPU Temperature : \", this.state.realTimeData.cpuTemp)));\n  }\n\n}\n\nexport default GetRealTimeUpdate;","map":{"version":3,"sources":["/home/rashmisarode/git/cmpe297-hw1/src/components/getRealTimeUpdate.jsx"],"names":["React","PureComponent","dataService","GetRealTimeUpdate","constructor","props","state","realTimeData","getRealUpdate","bind","componentDidMount","fromDate","Date","toLocaleString","toDate","console","log","parse","getdbData","then","res","date","created","result","cpuTemp","setState","catch","err","render","padding","fontSize","fontWeight","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,WAAT,QAA4B,yBAA5B;;AAEA,MAAMC,iBAAN,SAAgCF,aAAhC,CAA8C;AAC1CG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAE;AADL,KAAb;AAGA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACH;;AACDC,EAAAA,iBAAiB,GAAE;AACf,SAAKF,aAAL,CAAmB,IAAnB,EADe,CAEf;AAEH;;AACAA,EAAAA,aAAa,GAAE;AACZ,QAAIG,QAAQ,GAAI,IAAIC,IAAJ,EAAD,CAAaC,cAAb,EAAf;AACA,QAAIC,MAAM,GAAI,IAAIF,IAAJ,EAAD,CAAaC,cAAb,EAAb;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACK,KAAL,CAAWN,QAAX,CAAZ;AACAT,IAAAA,WAAW,CAACgB,SAAZ,CAAsBN,IAAI,CAACK,KAAL,CAAWN,QAAX,IAAqB,IAA3C,EAAiDC,IAAI,CAACK,KAAL,CAAWH,MAAX,CAAjD,EAAqEK,IAArE,CAA0EC,GAAG,IAAG;AAC5EL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAAC,CAAD,CAAf;AACA,UAAIC,IAAI,GAAI,IAAIT,IAAJ,CAASQ,GAAG,CAAC,CAAD,CAAH,CAAOE,OAAhB,EAAyBT,cAAzB,EAAZ;AACA,UAAIU,MAAM,GAAG;AACT,mBAAWH,GAAG,CAAC,CAAD,CAAH,CAAOI,OADT;AAET,gBAASH;AAFA,OAAb;AAKA,WAAKI,QAAL,CAAc;AACVlB,QAAAA,YAAY,EAAGgB;AADL,OAAd;AAGD,KAXH,EAWKG,KAXL,CAWWC,GAAG,IAAG;AACbZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACD,KAbH;AAcH;;AACDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAErB,MAAAA;AAAF,QAAmB,KAAKD,KAA9B;AACA,wBACK;AAAK,MAAA,KAAK,EAAE;AAAEuB,QAAAA,OAAO,EAAE;AAAX,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,UAAU,EAAE;AAA5B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADJ,EAGOxB,YAAY,iBAAI;AAAK,MAAA,KAAK,EAAE;AAAEyB,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQ,KAAK1B,KAAL,CAAWC,YAAX,CAAwBc,IADhC,CADY,eAIZ;AAAK,MAAA,KAAK,EAAE;AAAEW,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACmB,KAAK1B,KAAL,CAAWC,YAAX,CAAwBiB,OAD3C,CAJY,CAHvB,CADL;AAgBH;;AAnDyC;;AAsD9C,eAAerB,iBAAf","sourcesContent":["import React, { PureComponent } from 'react'\nimport { dataService } from '../services/dataService';\n\nclass GetRealTimeUpdate extends PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            realTimeData: {}\n        }\n        this.getRealUpdate = this.getRealUpdate.bind(this)\n    }\n    componentDidMount(){\n        this.getRealUpdate(this);\n        //setInterval(this.getRealUpdate, 5000);\n       \n    }\n     getRealUpdate(){\n        let fromDate = (new Date()).toLocaleString();\n        let toDate = (new Date()).toLocaleString();\n        console.log(Date.parse(fromDate))\n        dataService.getdbData(Date.parse(fromDate)-5000, Date.parse(toDate)).then(res=> {\n            console.log(res[0]);\n            let date  = new Date(res[0].created).toLocaleString()\n            let result = {\n                \"cpuTemp\": res[0].cpuTemp,\n                \"date\" : date\n            }\n\n            this.setState({\n                realTimeData : result\n            })\n          }).catch(err=> {\n            console.log(err);\n          })\n    }\n    render() {\n        const { realTimeData } = this.state;\n        return (\n             <div style={{ padding: 40 }}>\n                 <div style={{ fontSize: 20, fontWeight: \"bold\"  }}>Real Time Update from IoT</div>\n                 {\n                    realTimeData && <div style={{ marginTop: 20 }}>\n                        <div>\n                        Date : {this.state.realTimeData.date}\n                        </div>\n                        <div style={{ marginTop: 20 }}>\n                        CPU Temperature : {this.state.realTimeData.cpuTemp}\n                        </div>\n                    </div>                 \n                 }\n                              \n             </div>\n        )\n    }\n}\n\nexport default GetRealTimeUpdate"]},"metadata":{},"sourceType":"module"}